webpackJsonp([1],{"9n10":function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=i("VU/8")({name:"app"},n,!1,function(e){i("Sthj")},null,null).exports,r=i("/ocq"),l=i("//Fk"),o=i.n(l),c=i("Gu7T"),u=i.n(c),m=(i("PdmY"),i("jkKj")),d=i.n(m),p=(i("9OQl"),i("Bhwq"),{components:{},data:function(){return{option:{globe:{backgroundColor:"#000",environment:"static/image/starfield.jpg",baseTexture:"static/image/earth.jpg",shading:"color",layers:[{type:"blend",texture:""}],viewControl:{autoRotate:!1,zoomSensitivity:3,distance:220,alpha:0,beta:90,animation:!1,targetCoord:[108.56,34.15]}}},nation:{backgroundColor:{color:"#fff"},geo:{type:"map",map:"world",top:0,left:0,right:0,bottom:0,boundingCoords:[[-180,90],[180,-90]],itemStyle:{normal:{areaColor:"transparent",borderColor:"#fff"},emphasis:{areaColor:"yellow"}},label:{show:!1}},series:[]},china:{backgroundColor:{color:"#fff"},geo:{type:"map",map:"china",zoom:1.2,itemStyle:{normal:{color:"yellow"}}},series:[{name:"业务分布",type:"scatter",coordinateSystem:"geo",data:[],symbolSize:function(e){return e[2]/20},label:{normal:{formatter:"{b}:{c}",position:"right",show:!1},emphasis:{show:!0}},itemStyle:{normal:{color:"red"}}}]},earthIns:null,worldIns:null,nationIns:null,chinaIns:null,startLocation:[0,0],endLocation:[108.56,34.15],equipmentList:[{industryName:"韶关永盛山庄",value:[113.580262,24.808615,500],id:1,path:"deli",type:"normal",equipment:["中央空调#450","中央空调#551","能管设备#071","能管设备#071"],errEquipment:[{name:"中央空调#450",describe:"能耗过高",time:"02-01/11:02:45",type:"warning"}]},{industryName:"茂名汇丰酒店",value:[110.924231,21.670108,180],id:2,path:"dianzi",type:"warning",equipment:["中央空调#856","能管设备#789","能管设备#071"],errEquipment:[{name:"能管设备#789",describe:"数据异常",time:"02-01/11:02:45",type:"warning"}]},{industryName:"汕尾东鹏建材",value:[115.410654,22.816221,90],id:3,path:"dongyu",type:"danger",equipment:["中央空调#410","中央空调#645","能管设备#566"],errEquipment:[{name:"能管设备#566",describe:"CPU达到60%",time:"01-22/16:33:32",type:"danger"},{name:"中央空调#645",describe:"冷却水温度超标",time:"01-29/08:02:36",type:"warning"}]},{industryName:"梅州百胜电脑",value:[116.132646,24.30242,87],id:4,path:"fujiayi",type:"danger",equipment:["中央空调#750","中央空调#895","能管设备#451"],errEquipment:[{name:"能管设备#451",describe:"服务器数据异常",time:"01-29/08:02:36",type:"danger"}]},{industryName:"广州东宝大厦",value:[113.317982,23.137914,87],id:5,path:"fuwa",type:"normal",equipment:["中央空调#D235","中央空调#D695","能管设备#D551"],errEquipment:[{name:"中央空调#D695",describe:"服务器数据异常",time:"01-29/08:02:36",type:"danger"}]}],errEquipment:[],industryName:"",chinaVisible:!1,timerId:null,legendPath:{normal:{name:"正常",path:"static/image/legend_normal.png"},warning:{name:"警告",path:"static/image/legend_warning.png"},danger:{name:"故障",path:"static/image/legend_danger.png"}},legendShow:!1,worldShow:!1,listShow:!1,iframeShow:!1,hoverFlag:!0,loading:null,bdMap:null,markerLis:[],imgsrc:"1",activeClass:3,activeClassOne:1,echarts1:{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["输风机能耗","压缩机能耗"],textStyle:{color:"#75afff"}},grid:{left:"0",right:"0",bottom:"0",top:"0",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"],axisLabel:{color:"#75afff"}}],yAxis:[{type:"value",axisLabel:{color:"#75afff"}}],series:[{name:"输风机能耗",type:"line",stack:"总量",areaStyle:{normal:{}},data:[120,132,101,134,90,230,210]},{name:"压缩机能耗",type:"line",stack:"总量",areaStyle:{normal:{}},data:[220,182,191,234,290,330,310]}]},echarts2:{title:{text:"故障率",left:"center",top:-2,textStyle:{color:"#75afff"}},color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"1%",right:"1%",bottom:"1%",top:"16%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0},axisLabel:{color:"#75afff"}}],yAxis:[{type:"value",axisLabel:{color:"#75afff"}}],series:[{name:"故障率",type:"bar",barWidth:"60%",data:[10,8,3,5,6,7,5]}]},randomNumber:555}},computed:{},created:function(){for(var e=0;e<this.equipmentList.length;e++)for(var t=this.equipmentList[e],i=0;i<t.errEquipment.length;i++){(n=t.errEquipment[i]).value=t.value,n.industryName=t.industryName,this.errEquipment.push(n)}for(var a=0;a<this.equipmentList.length;a++){var n,s={type:"scatter",coordinateSystem:"geo",geoIndex:0,data:[n=this.equipmentList[a]],symbol:"image://"+this.legendPath[n.type].path,symbolOffset:[0,"-50%"],symbolSize:27,label:{normal:{formatter:function(e,t,i){return e.data.equipment.length},show:!0},emphasis:{formatter:function(e,t,i){var a=["{name|"+e.data.industryName+"}","{hr|}"];return e.data.equipment.forEach(function(e,t){a.push("{equipment|"+(t+1)+"."+e+"}")}),a.join("\n")},color:"#000",rich:{name:{fontSize:16,color:"#000"},hr:{width:"100%",borderColor:"rgba(0,0,0,0.6)",borderWidth:1,height:0,lineHeight:12},equipment:{fontSize:16,color:"#000",lineHeight:20}},position:"top",backgroundColor:"#eee",borderColor:"#555",borderWidth:2,borderRadius:5,padding:10,show:!0}}};this.nation.series[a]=s}var r=document.createElement("canvas");this.nationIns=this.$echarts.init(r,null,{width:2048,height:1024}),this.nationIns.setOption(this.nation),this.nationIns.on("click",this.showChina)},mounted:function(){var e=this;this.earthIns=this.$echarts.init(document.getElementById("earth")),this.earthIns.showLoading(),this.option.globe.layers[0].texture=this.nationIns,this.earthIns.setOption(this.option),window.addEventListener("resize",e.echartsResize()),setTimeout(function(){e.earthIns.hideLoading(),e.legendShow=!0;var t=e.$echarts.init(document.getElementById("echarts2"));t.setOption(e.echarts2),setInterval(function(){e.echarts2.series[0].data.shift(),e.echarts2.series[0].data.push(1+5*Math.random()),t.setOption(e.echarts2)},1e3);var i=setTimeout(function(){e.toDeep()},2e3);window.addEventListener("click",function(){clearTimeout(i)}),setInterval(function(){if(e.hoverFlag){var t,i=e.errEquipment.splice(0,1);(t=e.errEquipment).push.apply(t,u()(i))}},2e3)},1e3)},beforeRouteLeave:function(e,t,i){window.removeEventListener("resize",this.echartsResize()),i()},methods:{getBase64Image:function(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,e.width,e.height),t.toDataURL("image/png")},toDeep:function(e){var t=this;null==this.worldIns&&this.earthIns.setOption({globe:{viewControl:{autoRotate:!1,distance:70,animation:!0,animationDurationUpdate:3e3,animationEasingUpdate:"linear",targetCoord:[113.31,23.14]}}});var i=t.bdMap?10:3e3;setTimeout(function(){t.worldShow=!0,t.$nextTick(function(){document.querySelector("#earthContent .legend_industry ul").classList.add("hidden"),t.bdMap||(t.bdMap=new d.a.Map("world"),t.bdMap.addControl(new d.a.MapTypeControl({mapTypes:[BMAP_NORMAL_MAP,BMAP_SATELLITE_MAP]})),t.bdMap.setMapStyle({styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#021019"}},{featureType:"highway",elementType:"geometry.fill",stylers:{visibility:"off"}},{featureType:"highway",elementType:"geometry.stroke",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"arterial",elementType:"geometry.stroke",stylers:{color:"#0b3d51"}},{featureType:"local",elementType:"geometry",stylers:{color:"#000000"}},{featureType:"land",elementType:"all",stylers:{color:"#08304b"}},{featureType:"railway",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"railway",elementType:"geometry.stroke",stylers:{color:"#08304b"}},{featureType:"subway",elementType:"geometry",stylers:{lightness:-70}},{featureType:"building",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"all",elementType:"labels.text.fill",stylers:{color:"#857f7f"}},{featureType:"all",elementType:"labels.text.stroke",stylers:{color:"#000000"}},{featureType:"building",elementType:"geometry",stylers:{color:"#022338"}},{featureType:"green",elementType:"geometry",stylers:{color:"#062032"}},{featureType:"boundary",elementType:"all",stylers:{color:"#1e1c1c"}},{featureType:"boundary",elementType:"geometry",stylers:{hue:"#2e8bca"}},{featureType:"manmade",elementType:"geometry",stylers:{color:"#022338"}},{featureType:"poi",elementType:"all",stylers:{visibility:"off"}},{featureType:"all",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"all",elementType:"labels.text.fill",stylers:{color:"#2da0c6",visibility:"on"}},{featureType:"districtlabel",elementType:"labels",stylers:{}},{featureType:"administrative",elementType:"geometry",stylers:{hue:"#2e8bca"}}]}),t.bdMap.enableScrollWheelZoom(!0),t.bdMap.enableDoubleClickZoom(!0),t.bdMap.enableContinuousZoom(!0),t.bdMap.centerAndZoom(new d.a.Point(108.56,34.15),5));var i=0;t.markerLis.forEach(function(e){t.bdMap.removeOverlay(e),i++}),t.markerLis=[];for(var a=360,n=0,s=360,r=0,l=0;l<t.equipmentList.length;l++){var o=t.equipmentList[l];e||(o.value[0]<=a&&(a=o.value[0]),o.value[0]>=n&&(n=o.value[0]),o.value[1]<=s&&(s=o.value[1]),o.value[1]>=r&&(r=o.value[1]));var c,u,m,p,h,v=(a+n)/2,f=(s+r)/2;if(!e||e&&e.industryName==o.industryName)if("break"===function(){var i=new d.a.Point(o.value[0],o.value[1]);t.equipmentList[l].point=i,c=new d.a.Icon("static/image/circle.png",new d.a.Size(120,120),{imageSize:new d.a.Size(120,120),anchor:new d.a.Size(60,60)}),u=new d.a.Icon("static/image/circle2.png",new d.a.Size(286,240),{imageSize:new d.a.Size(286,240),anchor:new d.a.Size(143,120)});var a=new d.a.Marker(i,{icon:c});a.addEventListener("click",function(e){t.listShow=!t.listShow,t.randomNumber=Math.floor(350+150*Math.random())}),m={width:0,height:0,offset:new d.a.Size(0,0),title:o.industryName},p="";for(var n=0;n<o.equipment.length;n++)h=o.equipment[n],p+="<p>"+(n+1)+" . "+h+"</p>";if(new d.a.InfoWindow(p,m),a.addEventListener("mouseover",function(e){var t;a.setIcon(u),(t=a.getLabel()||new d.a.Label(p,{offset:new d.a.Size(70,88)})).setStyle({cursor:"pointer",color:"#71a9f7",backgroundColor:"transparent",border:"none",display:"block"}),a.setLabel(t)}),a.addEventListener("mouseout",function(e){a.setIcon(c),a.getLabel().setStyle({display:"none"})}),t.markerLis.push(a),t.bdMap.addOverlay(a),e&&e.industryName==o.industryName)return t.listShow=!0,t.randomNumber=Math.floor(350+150*Math.random()),"break"}())break}if(e)0==i?t.bdMap.centerAndZoom(new d.a.Point(e.value[0],e.value[1]),9):t.bdMap.panTo(new d.a.Point(e.value[0],e.value[1]));else{t.bdMap.centerAndZoom(new d.a.Point(v,f),8);new BMapLib.MarkerClusterer(t.bdMap,{markers:t.markerLis})}})},i)},toErr:function(e){this.toDeep(e)},showChina:function(e){e.name&&"China"==e.name?this.toDeep():this.equipmentList.some(function(t){return t.industryName==e.data.industryName})&&(this.listShow=!0)},echartsResize:function(){var e=this;return function(){e.throttle(e.earthIns.resize(),100),e.chinaVisible&&e.chinaIns&&e.throttle(e.chinaIns.resize(),100)}},throttle:function(e,t){var i=this;return i.timerId=null,function(){clearTimeout(i.timerId),i.timerId=setTimeout(function(){e()},t)}},industryChange:function(e){for(var t=0;t<this.equipmentList.length;t++){var i=this.equipmentList[t];if(e==i.id){console.log(e),this.toErr(i);break}}},newPromise:function(e,t){return new o.a(function(t,i){setTimeout(t(),e)})},cicrel001:function(){this.iframeShow=!0,this.activeClass=1,window.open("./yanshi/jiliangqiju_nengguan.html","aiframe")},cicrel002:function(){this.iframeShow=!0,this.activeClass=2,window.open("./yanshi/zhinengchuanganwangluo.html","aiframe")},cicrel003:function(){this.iframeShow=!0,this.activeClass=3,window.open("./yanshi/itwangluo_nengguan.html","aiframe")},cicrel004:function(){this.iframeShow=!0,this.activeClass=4,window.open("./yanshi/idc_nengguan.html","aiframe")},cicrel005:function(){this.iframeShow=!0,this.activeClass=5,window.open("./yanshi/jiancebaogao_neirong_nengguan.html","aiframe")},cicrel006:function(){this.iframeShow=!0,this.activeClass=6,window.open("./yanshi/keshihuajiance.html","aiframe")},cicrel007:function(){this.iframeShow=!0,this.activeClass=7,window.open("./yanshi/guzhangxiufu_xiangqing.html","aiframe")},cicrel008:function(){this.iframeShow=!0,this.activeClass=8,window.open("./yanshi/yuanchengyemian.html","aiframe")},cicrel009:function(){this.activeClassOne=1},cicrel010:function(){this.activeClassOne=2}},watch:{}}),h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"earthContent"}},[i("div",{key:"earth",class:["list-item",e.worldIns?"earthHidden":""],attrs:{id:"earth"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.worldShow,expression:"worldShow"}],key:"world",class:"list-item",attrs:{id:"world"}}),e._v(" "),i("div",{attrs:{id:"company"},domProps:{textContent:e._s(e.industryName)}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.legendShow,expression:"legendShow"}],attrs:{id:"legend"}}),e._v(" "),i("div",{attrs:{id:"dataList"}},e._l(e.equipmentList,function(t,a){return i("div",{key:a,on:{click:function(i){e.toErr(t)}}},[i("img",{attrs:{src:"static/logo/"+t.path+".png",alt:t.industryName}}),e._v(" "),i("span",{domProps:{textContent:e._s(t.industryName)}})])})),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.legendShow,expression:"legendShow"}],staticClass:"legend_industry"},[i("ul",{on:{mouseover:function(t){e.hoverFlag=!1},mouseout:function(t){e.hoverFlag=!0}}},e._l(e.errEquipment,function(t,a){return i("li",{key:t.id,attrs:{title:t.industryName},on:{click:function(i){e.toErr(t)}}},[i("span",{staticClass:"name",domProps:{textContent:e._s(t.name)}}),e._v(" "),i("span",{staticClass:"warning",domProps:{textContent:e._s(t.describe)}}),e._v(" "),i("span",{staticClass:"time",domProps:{textContent:e._s(t.time)}})])}))]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.legendShow,expression:"legendShow"}],staticClass:"legend_input"},[i("el-select",{attrs:{filterable:"",placeholder:"搜索企业"},on:{change:e.industryChange},model:{value:e.industryName,callback:function(t){e.industryName=t},expression:"industryName"}},e._l(e.equipmentList,function(e,t){return i("el-option",{key:e.id,attrs:{label:e.industryName,value:e.id}})}))],1),e._v(" "),i("div",{class:e.listShow?"showLis":"hiddenLis",attrs:{id:"sunburst"}},[i("button",{on:{click:function(t){e.listShow=!1}}},[e._v("X")]),e._v(" "),i("div",{staticClass:"cicrelOne"},[i("ul",{staticClass:"cicrel"},[i("li",{staticClass:"innCicrel cicrel0 cicrel01"},[i("span",{class:["innerCicrel1",1==e.activeClass?"active":""]})]),e._v(" "),i("li",{staticClass:"innCicrel cicrel0 cicrel02"},[i("span",{class:["innerCicrel1",2==e.activeClass?"active":""]})]),e._v(" "),i("li",{staticClass:"innCicrel cicrel0 cicrel03"},[i("span",{class:["innerCicrel1",3==e.activeClass?"active":""]})]),e._v(" "),i("li",{staticClass:"innCicrel cicrel0 cicrel04"},[i("span",{class:["innerCicrel1",4==e.activeClass?"active":""]})]),e._v(" "),i("li",{staticClass:"innCicrel cicrel0 cicrel05"},[i("span",{class:["innerCicrel1",5==e.activeClass?"active":""]})]),e._v(" "),i("li",{staticClass:"innCicrel cicrel0 cicrel06"},[i("span",{class:["innerCicrel1",6==e.activeClass?"active":""]})]),e._v(" "),i("li",{staticClass:"innCicrel cicrel0 cicrel07"},[i("span",{class:["innerCicrel1",7==e.activeClass?"active":""]})]),e._v(" "),i("li",{staticClass:"innCicrel cicrel0 cicrel08"},[i("span",{class:["innerCicrel1",8==e.activeClass?"active":""]})]),e._v(" "),i("li",{staticClass:"innCicrel cicrel1"}),e._v(" "),i("li",{staticClass:"innCicrel cicrel2"},[i("span",{class:["one",1==e.activeClassOne?"active":""]}),e._v(" "),i("span",{class:["two",2==e.activeClassOne?"active":""]})]),e._v(" "),i("li",{staticClass:"innCicrel cicrel3"}),e._v(" "),i("li",{staticClass:"innCicrel cicrel4"}),e._v(" "),i("li",{staticClass:"innCicrel cicrel5"})]),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:e.listShow,expression:"listShow"}],staticClass:"optionLis"},[i("li",{class:["cicrel001",1==e.activeClass?"active":""],on:{click:e.cicrel001}},[e._v("计量与传感")]),e._v(" "),i("li",{class:["cicrel002",2==e.activeClass?"active":""],on:{click:e.cicrel002}},[e._v("计量传感网络")]),e._v(" "),i("li",{class:["cicrel003",3==e.activeClass?"active":""],on:{click:e.cicrel003}},[e._v("IT网络")]),e._v(" "),i("li",{class:["cicrel004",4==e.activeClass?"active":""],on:{click:e.cicrel004}},[e._v("IDC")]),e._v(" "),i("li",{class:["cicrel005",5==e.activeClass?"active":""],on:{click:e.cicrel005}},[e._v("监测报告")]),e._v(" "),i("li",{class:["cicrel006",6==e.activeClass?"active":""],on:{click:e.cicrel006}},[e._v("故障定位")]),e._v(" "),i("li",{class:["cicrel007",7==e.activeClass?"active":""],on:{click:e.cicrel007}},[e._v("故障修复")]),e._v(" "),i("li",{class:["cicrel008",8==e.activeClass?"active":""],on:{click:e.cicrel008}},[e._v("远程托管")]),e._v(" "),i("li",{class:["cicrel009",1==e.activeClassOne?"active":""],on:{click:e.cicrel009}},[e._v("能管")]),e._v(" "),i("li",{class:["cicrel010",2==e.activeClassOne?"active":""],on:{click:e.cicrel010}},[e._v("中央空调")])]),e._v(" "),i("div",{staticClass:"innerContent"},[i("p",{staticClass:"fl"},[i("span",{staticClass:"value",domProps:{textContent:e._s(e.randomNumber)}}),e._v(" "),i("span",{staticClass:"title"},[e._v("设备总数")])]),e._v(" "),i("ul",{staticClass:"fr"},[i("li",[i("span",{staticClass:"title"},[e._v("故障")]),e._v(" "),i("span",{staticClass:"value",domProps:{textContent:e._s(Math.floor(e.randomNumber/200))}})]),e._v(" "),i("li",[i("span",{staticClass:"title"},[e._v("运维次数")]),e._v(" "),i("span",{staticClass:"value",domProps:{textContent:e._s(Math.floor(e.randomNumber/100))}})]),e._v(" "),i("li",[i("span",{staticClass:"title"},[e._v("无故障运行时间")]),e._v(" "),i("span",{staticClass:"value",domProps:{textContent:e._s(Math.floor(2.5*e.randomNumber)+"h")}})])])])]),e._v(" "),i("div",{staticClass:"chooseOne"}),e._v(" "),e._m(0)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.iframeShow,expression:"iframeShow"}],staticClass:"aiframe"},[i("button",{on:{click:function(t){e.iframeShow=!1}}},[e._v("X")]),e._v(" "),i("iframe",{attrs:{name:"aiframe",id:"aiframe",src:"#",frameborder:"1",width:"100%",height:"100%"}})])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{attrs:{id:"echarts2"}})])}]};var v=i("VU/8")(p,h,!1,function(e){i("WCWP")},null,null).exports;a.default.use(r.a);var f=new r.a({routes:[{path:"/",name:"HelloWorld",component:v}]}),y=i("XLwt"),g=i.n(y),w=i("zL8q"),C=i.n(w),b=i("mtWM"),_=i.n(b);i("q8zI"),i("9n10"),i("qJEI");a.default.use(C.a),a.default.prototype.$echarts=g.a,a.default.prototype.$axios=_.a,a.default.config.productionTip=!1,new a.default({el:"#app",router:f,template:"<App/>",components:{App:s}})},Sthj:function(e,t){},WCWP:function(e,t){},jkKj:function(e,t){e.exports=BMap},q8zI:function(e,t){},qJEI:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d49b4590e520b6e8f2a0.js.map